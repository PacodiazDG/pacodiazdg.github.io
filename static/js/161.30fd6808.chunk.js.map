{"version":3,"file":"static/js/161.30fd6808.chunk.js","mappings":"0LAuFA,UA/EA,WACE,IAUAA,GAA4BC,EAAAA,EAAAA,UAVW,CACrCC,QAAS,CACP,CACEC,KAAM,GACNC,QAAS,GACTC,UAAW,GACXC,UAAW,OAIoDC,GAAAC,EAAAA,EAAAA,GAAAR,EAAA,GAA9DS,EAAMF,EAAA,GAAEG,EAASH,EAAA,GAiCxB,OAhCAI,EAAAA,EAAAA,YAAU,WACRC,EAAAA,EAAOC,SAAS,GAADC,OAAIC,EAAAA,IAAiBD,OAAGC,EAAAA,GAAAA,GAAAA,GAAAA,KAClCC,MAAK,SAACC,GAAC,OAAKC,EAAAA,EAAAA,GAAaD,EAAE,IAC3BD,MAAK,SAACG,GACkB,OAAnBA,EAASjB,SAGbQ,EAAUS,EACZ,IACCC,OAAM,WACLC,EAAAA,EAAYC,kBAAkB,sBAChC,GACN,GAAG,KAqBDC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,+CAA8CC,UAC3DC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,OAAMC,SAAA,EACnBC,EAAAA,EAAAA,MAAA,MAAAD,SAAA,EAAIF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,iBAAgBC,SAAC,WAE9B,0BACPC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,GAAEC,SAAA,EACfF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWC,UACxBC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,qEAEDhB,EAAOP,QAASyB,KAAI,SAACC,EAAGC,GACvB,OAAQH,EAAAA,EAAAA,MAAA,OAAKF,UAAU,oBAAmBC,SAAA,EACxCF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,iBAAgBC,SAAC,cAGjCC,EAAAA,EAAAA,MAAA,KAAGF,UAAU,YAAWC,SAAA,EAACF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,gBAAoB,KAAGG,EAAEvB,cAC1DqB,EAAAA,EAAAA,MAAA,KAAGF,UAAU,YAAWC,SAAA,EAACF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,gBAAoB,KAAGG,EAAExB,YAC1DsB,EAAAA,EAAAA,MAAA,KAAGF,UAAU,YAAWC,SAAA,EAACF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,UAAc,IAAEG,EAAEzB,SACnDuB,EAAAA,EAAAA,MAAA,KAAGF,UAAU,YAAWC,SAAA,EAACF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,gBAAoB,IAAEG,EAAEtB,cACzDiB,EAAAA,EAAAA,KAAA,UAAQO,KAAK,SAASN,UAAU,uBAAuBO,QAAS,kBArC3DC,EAqC+EJ,EAAEtB,eApCtGM,EAAAA,EAAOC,SAAS,GAADC,OAAIC,EAAAA,IAAiBD,OAAGC,EAAAA,GAAAA,GAAAA,GAAAA,GAAsC,KAAAD,OAAIkB,IAC5EhB,MAAK,SAACiB,GACL,GAAsB,MAAlBA,EAASC,OAAc,CACzB,IAAMC,EAAgC,CACpCjC,QAASO,EAAOP,QAAQkC,QAAO,SAACC,GAAI,OAAKA,EAAK/B,YAAc0B,CAAI,KAElEtB,EAAUyB,GACVd,EAAAA,EAAYiB,eAAe,gBAC7B,MACEjB,EAAAA,EAAYC,kBAAkB,iBAElC,IACCF,OAAM,WACLC,EAAAA,EAAYC,kBAAkB,iBAChC,IAfgB,IAACU,CAqC2F,EAACP,SAAE,qBARrDI,EAUlD,UAINN,EAAAA,EAAAA,KAAA,OAAKC,UAAU,MAAKC,UAClBF,EAAAA,EAAAA,KAAA,UAAQO,KAAK,SAASN,UAAU,kBAAkBe,MAAM,oCAAmCd,SAAC,gCAMxG,C","sources":["Componets/My/securityandlogin.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {Api} from '../../types';\r\nimport config from '../../Config.json';\r\nimport './../../Css/my.css';\r\nimport CustomToast from '../defaulttoast';\r\nimport Qfetch from '../../Logic/Http_Ferch';\r\nimport {responseJson} from '../../Logic/ToolkitFerch';\r\n\r\nfunction SecurityandLogin() {\r\n  const InitInterface:Api.ipaddresList = {\r\n    Session: [\r\n      {\r\n        Date: '',\r\n        IpAddrs: '',\r\n        UserAgent: '',\r\n        Uuidtoken: '',\r\n      },\r\n    ],\r\n  };\r\n  const [Logins, setLogins] = useState<Api.ipaddresList>(InitInterface);\r\n  useEffect(() => {\r\n    Qfetch.ahutRqst(`${config.ApiBackend}${config.ApiRoutes.User[0].Sessions}`)\r\n        .then((r) => responseJson(r))\r\n        .then((ipaddres:Api.ipaddresList)=>{\r\n          if (ipaddres.Session===null) {\r\n            return;\r\n          }\r\n          setLogins(ipaddres);\r\n        })\r\n        .catch(() => {\r\n          CustomToast.errorDefaultToast('failed http request');\r\n        });\r\n  }, [] );\r\n\r\n\r\n  const delateUuidtoken=(UUID:string)=>{\r\n    Qfetch.ahutRqst(`${config.ApiBackend}${config.ApiRoutes.User[0].DeleteSession}/${UUID}`)\r\n        .then((response) => {\r\n          if (response.status===200) {\r\n            const NewInterface:Api.ipaddresList = {\r\n              Session: Logins.Session.filter((item) => item.Uuidtoken !== UUID),\r\n            };\r\n            setLogins(NewInterface);\r\n            CustomToast.okDefaultToast('Token removed');\r\n          } else {\r\n            CustomToast.errorDefaultToast('Failed request');\r\n          }\r\n        })\r\n        .catch(() => {\r\n          CustomToast.errorDefaultToast('Failed request');\r\n        });\r\n  };\r\n  return (\r\n    <div className=\"d-flex justify-content-center row w-100 p-3 \">\r\n      <div className=\" p-2\">\r\n        <h5><span className=\"material-icons\">\r\nshield\r\n        </span> Security and login</h5>\r\n        <div className=''>\r\n          <div className='pt-2 pb-1'>\r\n            <div>\r\n              <h6>Sessions that were created in the last 90 days are listed below.</h6>\r\n              {\r\n                (Logins.Session).map((x, index) => {\r\n                  return (<div className='m-1 p-1 fontsmall' key={index}>\r\n                    <span className=\"material-icons\">\r\ncomputer\r\n                    </span>\r\n                    <p className='fontsmall'><strong>User agent:</strong>  {x.UserAgent}</p>\r\n                    <p className='fontsmall'><strong>Ip address:</strong>  {x.IpAddrs}</p>\r\n                    <p className='fontsmall'><strong>Date:</strong> {x.Date}</p>\r\n                    <p className='fontsmall'><strong>Session id:</strong> {x.Uuidtoken}</p>\r\n                    <button type=\"button\" className=\"btn btn-outline-info\" onClick={()=>delateUuidtoken(x.Uuidtoken)} >Remove session</button>\r\n                  </div>);\r\n                })\r\n              }\r\n            </div>\r\n          </div>\r\n          <div className='p-4'>\r\n            <button type=\"button\" className=\"btn btn-warning\" title=\"Block UUID and generate a new one\">Remove all devices</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SecurityandLogin;\r\n"],"names":["_useState","useState","Session","Date","IpAddrs","UserAgent","Uuidtoken","_useState2","_slicedToArray","Logins","setLogins","useEffect","Qfetch","ahutRqst","concat","config","then","r","responseJson","ipaddres","catch","CustomToast","errorDefaultToast","_jsx","className","children","_jsxs","map","x","index","type","onClick","UUID","response","status","NewInterface","filter","item","okDefaultToast","title"],"sourceRoot":""}