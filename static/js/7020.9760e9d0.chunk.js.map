{"version":3,"file":"static/js/7020.9760e9d0.chunk.js","mappings":"oMAuFA,QA/EA,WACE,MAUOA,EAAQC,IAAaC,EAAAA,EAAAA,UAVW,CACrCC,QAAS,CACP,CACEC,KAAM,GACNC,QAAS,GACTC,UAAW,GACXC,UAAW,OAqCjB,OAhCAC,EAAAA,EAAAA,YAAU,KACRC,EAAAA,EAAOC,SAAS,GAADC,OAAIC,EAAAA,IAAiBD,OAAGC,EAAAA,GAAAA,GAAAA,GAAAA,KAClCC,MAAMC,IAAMC,EAAAA,EAAAA,GAAaD,KACzBD,MAAMG,IACkB,OAAnBA,EAASb,SAGbF,EAAUe,EAAS,IAEpBC,OAAM,KACLC,EAAAA,EAAYC,kBAAkB,sBAAsB,GACpD,GACL,KAqBDC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,+CAA8CC,UAC3DC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,OAAMC,SAAA,EACnBC,EAAAA,EAAAA,MAAA,MAAAD,SAAA,EAAIF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,iBAAgBC,SAAC,WAE9B,0BACPC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,GAAEC,SAAA,EACfF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWC,UACxBC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,qEAEDtB,EAAOG,QAASqB,KAAI,CAACC,EAAGC,KACfH,EAAAA,EAAAA,MAAA,OAAKF,UAAU,oBAAmBC,SAAA,EACxCF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,iBAAgBC,SAAC,cAGjCC,EAAAA,EAAAA,MAAA,KAAGF,UAAU,YAAWC,SAAA,EAACF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,gBAAoB,KAAGG,EAAEnB,cAC1DiB,EAAAA,EAAAA,MAAA,KAAGF,UAAU,YAAWC,SAAA,EAACF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,gBAAoB,KAAGG,EAAEpB,YAC1DkB,EAAAA,EAAAA,MAAA,KAAGF,UAAU,YAAWC,SAAA,EAACF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,UAAc,IAAEG,EAAErB,SACnDmB,EAAAA,EAAAA,MAAA,KAAGF,UAAU,YAAWC,SAAA,EAACF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,gBAAoB,IAAEG,EAAElB,cACzDa,EAAAA,EAAAA,KAAA,UAAQO,KAAK,SAASN,UAAU,uBAAuBO,QAASA,KAAIC,OArC/DC,EAqC+EL,EAAElB,eApCtGE,EAAAA,EAAOC,SAAS,GAADC,OAAIC,EAAAA,IAAiBD,OAAGC,EAAAA,GAAAA,GAAAA,GAAAA,GAAsC,KAAAD,OAAImB,IAC5EjB,MAAMkB,IACL,GAAsB,MAAlBA,EAASC,OAAc,CACzB,MAAMC,EAAgC,CACpC9B,QAASH,EAAOG,QAAQ+B,QAAQC,GAASA,EAAK5B,YAAcuB,KAE9D7B,EAAUgC,GACVf,EAAAA,EAAYkB,eAAe,gBAC7B,MACElB,EAAAA,EAAYC,kBAAkB,iBAChC,IAEDF,OAAM,KACLC,EAAAA,EAAYC,kBAAkB,iBAAiB,IAdhCW,KAqC4F,EAAAR,SAAE,qBARrDI,WAcxDN,EAAAA,EAAAA,KAAA,OAAKC,UAAU,MAAKC,UAClBF,EAAAA,EAAAA,KAAA,UAAQO,KAAK,SAASN,UAAU,kBAAkBgB,MAAM,oCAAmCf,SAAC,gCAMxG,C","sources":["Componets/My/securityandlogin.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {Api} from '../../types';\r\nimport config from '../../Config.json';\r\nimport './../../Css/my.css';\r\nimport CustomToast from '../defaulttoast';\r\nimport Qfetch from '../../Logic/Http_Ferch';\r\nimport {responseJson} from '../../Logic/ToolkitFerch';\r\n\r\nfunction SecurityandLogin() {\r\n  const InitInterface:Api.ipaddresList = {\r\n    Session: [\r\n      {\r\n        Date: '',\r\n        IpAddrs: '',\r\n        UserAgent: '',\r\n        Uuidtoken: '',\r\n      },\r\n    ],\r\n  };\r\n  const [Logins, setLogins] = useState<Api.ipaddresList>(InitInterface);\r\n  useEffect(() => {\r\n    Qfetch.ahutRqst(`${config.ApiBackend}${config.ApiRoutes.User[0].Sessions}`)\r\n        .then((r) => responseJson(r))\r\n        .then((ipaddres:Api.ipaddresList)=>{\r\n          if (ipaddres.Session===null) {\r\n            return;\r\n          }\r\n          setLogins(ipaddres);\r\n        })\r\n        .catch(() => {\r\n          CustomToast.errorDefaultToast('failed http request');\r\n        });\r\n  }, [] );\r\n\r\n\r\n  const delateUuidtoken=(UUID:string)=>{\r\n    Qfetch.ahutRqst(`${config.ApiBackend}${config.ApiRoutes.User[0].DeleteSession}/${UUID}`)\r\n        .then((response) => {\r\n          if (response.status===200) {\r\n            const NewInterface:Api.ipaddresList = {\r\n              Session: Logins.Session.filter((item) => item.Uuidtoken !== UUID),\r\n            };\r\n            setLogins(NewInterface);\r\n            CustomToast.okDefaultToast('Token removed');\r\n          } else {\r\n            CustomToast.errorDefaultToast('Failed request');\r\n          }\r\n        })\r\n        .catch(() => {\r\n          CustomToast.errorDefaultToast('Failed request');\r\n        });\r\n  };\r\n  return (\r\n    <div className=\"d-flex justify-content-center row w-100 p-3 \">\r\n      <div className=\" p-2\">\r\n        <h5><span className=\"material-icons\">\r\nshield\r\n        </span> Security and login</h5>\r\n        <div className=''>\r\n          <div className='pt-2 pb-1'>\r\n            <div>\r\n              <h6>Sessions that were created in the last 90 days are listed below.</h6>\r\n              {\r\n                (Logins.Session).map((x, index) => {\r\n                  return (<div className='m-1 p-1 fontsmall' key={index}>\r\n                    <span className=\"material-icons\">\r\ncomputer\r\n                    </span>\r\n                    <p className='fontsmall'><strong>User agent:</strong>  {x.UserAgent}</p>\r\n                    <p className='fontsmall'><strong>Ip address:</strong>  {x.IpAddrs}</p>\r\n                    <p className='fontsmall'><strong>Date:</strong> {x.Date}</p>\r\n                    <p className='fontsmall'><strong>Session id:</strong> {x.Uuidtoken}</p>\r\n                    <button type=\"button\" className=\"btn btn-outline-info\" onClick={()=>delateUuidtoken(x.Uuidtoken)} >Remove session</button>\r\n                  </div>);\r\n                })\r\n              }\r\n            </div>\r\n          </div>\r\n          <div className='p-4'>\r\n            <button type=\"button\" className=\"btn btn-warning\" title=\"Block UUID and generate a new one\">Remove all devices</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SecurityandLogin;\r\n"],"names":["Logins","setLogins","useState","Session","Date","IpAddrs","UserAgent","Uuidtoken","useEffect","Qfetch","ahutRqst","concat","config","then","r","responseJson","ipaddres","catch","CustomToast","errorDefaultToast","_jsx","className","children","_jsxs","map","x","index","type","onClick","delateUuidtoken","UUID","response","status","NewInterface","filter","item","okDefaultToast","title"],"sourceRoot":""}